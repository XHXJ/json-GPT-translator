import{g as xe,t as Se,u as Ne}from"./configure-91bb1f8e.js";import{m as de}from"./message-9c0c215e.js";import{j as je,v as Oe,k as Te,l as Pe,d as De,a as _e,r as fe,o as Le,b as V,c as we,f as t,w as a,g as he,e as c,h as m,u as J,m as Be,n as Ve,t as Ae,E as Ee,q as Ue,s as Ie,p as Fe,i as Ke,_ as Me}from"./index-21f4f83c.js";const Q={width:1024,height:1024,body:'<path fill="currentColor" d="M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296c-44.096 0-108.992 44.736-148.48 101.504c0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04c67.84 0 107.904-43.648 147.456-100.416z"/>'};var Ce={exports:{}};const ze=je(Oe);(function(Z,ce){(function(Y,L){Z.exports=L(ze)})(Te,function(Y){return function(){var L={789:function(w){w.exports=Y}},p={};function U(w){var T=p[w];if(T!==void 0)return T.exports;var j=p[w]={exports:{}};return L[w](j,j.exports,U),j.exports}U.d=function(w,T){for(var j in T)U.o(T,j)&&!U.o(w,j)&&Object.defineProperty(w,j,{enumerable:!0,get:T[j]})},U.o=function(w,T){return Object.prototype.hasOwnProperty.call(w,T)},U.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var ne={};return function(){function w(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,d=new Array(n);o<n;o++)d[o]=e[o];return d}function T(e,n){if(e){if(typeof e=="string")return w(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set"?Array.from(e):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?w(e,n):void 0}}function j(e){return function(n){if(Array.isArray(n))return w(n)}(e)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(e)||T(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function R(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}U.r(ne),U.d(ne,{default:function(){return se}});var r=U(789),P=(0,r.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,n=this.onClick;return(0,r.createVNode)("span",{class:"vjs-tree-brackets",onClick:n},[e])}}),u=(0,r.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,n){var o=n.emit;return{uiType:(0,r.computed)(function(){return e.isMultiple?"checkbox":"radio"}),model:(0,r.computed)({get:function(){return e.checked},set:function(d){return o("update:modelValue",d)}})}},render:function(){var e=this.uiType,n=this.model,o=this.$emit;return(0,r.createVNode)("label",{class:["vjs-check-controller",n?"is-checked":""],onClick:function(d){return d.stopPropagation()}},[(0,r.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(e)},null),(0,r.createVNode)("input",{checked:n,class:"vjs-check-controller-original is-".concat(e),type:e,onChange:function(){return o("change",n)}},null)])}}),B=(0,r.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var e=this.nodeType,n=this.onClick,o=e==="objectStart"||e==="arrayStart";return o||e==="objectCollapsed"||e==="arrayCollapsed"?(0,r.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(o?"open":"close"),onClick:n},[(0,r.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,r.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function q(e){return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},q(e)}function S(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function y(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=arguments.length>3?arguments[3]:void 0,_=d||{},O=_.key,i=_.index,v=_.type,K=v===void 0?"content":v,D=_.showComma,G=D!==void 0&&D,M=_.length,W=M===void 0?1:M,ee=S(e);if(ee==="array"){var le=I(e.map(function(E,g,l){return y(E,"".concat(n,"[").concat(g,"]"),o+1,{index:g,showComma:g!==l.length-1,length:W,type:K})}));return[y("[",n,o,{showComma:!1,key:O,length:e.length,type:"arrayStart"})[0]].concat(le,y("]",n,o,{showComma:G,length:e.length,type:"arrayEnd"})[0])}if(ee==="object"){var $=Object.keys(e),ae=I($.map(function(E,g,l){return y(e[E],/^[a-zA-Z_]\w*$/.test(E)?"".concat(n,".").concat(E):"".concat(n,'["').concat(E,'"]'),o+1,{key:E,showComma:g!==l.length-1,length:W,type:K})}));return[y("{",n,o,{showComma:!1,key:O,index:i,length:$.length,type:"objectStart"})[0]].concat(ae,y("}",n,o,{showComma:G,length:$.length,type:"objectEnd"})[0])}return[{content:e,level:o,key:O,index:i,path:n,showComma:G,length:W,type:K}]}function I(e){if(typeof Array.prototype.flat=="function")return e.flat();for(var n=j(e),o=[];n.length;){var d=n.shift();Array.isArray(d)?n.unshift.apply(n,j(d)):o.push(d)}return o}function A(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e==null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(q(e)!=="object")return e;if(n.get(e))return n.get(e);if(Array.isArray(e)){var o=e.map(function(O){return A(O,n)});return n.set(e,o),o}var d={};for(var _ in e)d[_]=A(e[_],n);return n.set(e,d),d}function F(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);n&&(d=d.filter(function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable})),o.push.apply(o,d)}return o}function C(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?F(Object(o),!0).forEach(function(d){R(e,d,o[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(o,d))})}return e}var ie={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},X=(0,r.defineComponent)({name:"TreeNode",props:C(C({},ie),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(e,n){var o=n.emit,d=(0,r.computed)(function(){return S(e.node.content)}),_=(0,r.computed)(function(){return"vjs-value vjs-value-".concat(d.value)}),O=(0,r.computed)(function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key}),i=(0,r.computed)(function(){return e.selectableType==="multiple"}),v=(0,r.computed)(function(){return e.selectableType==="single"}),K=(0,r.computed)(function(){return e.nodeSelectable(e.node)&&(i.value||v.value)}),D=(0,r.reactive)({editing:!1}),G=function(g){var l,s,f=(s=(l=g.target)===null||l===void 0?void 0:l.value)==="null"?null:s==="undefined"?void 0:s==="true"||s!=="false"&&(s[0]+s[s.length-1]==='""'||s[0]+s[s.length-1]==="''"?s.slice(1,-1):typeof Number(s)=="number"&&!isNaN(Number(s))||s==="NaN"?Number(s):s);o("valueChange",f,e.node.path)},M=(0,r.computed)(function(){var g,l=(g=e.node)===null||g===void 0?void 0:g.content;return l===null?l="null":l===void 0&&(l="undefined"),d.value==="string"?'"'.concat(l,'"'):l+""}),W=function(){var g=e.renderNodeValue;return g?g({node:e.node,defaultValue:M.value}):M.value},ee=function(){o("bracketsClick",!e.collapsed,e.node.path)},le=function(){o("iconClick",!e.collapsed,e.node.path)},$=function(){o("selectedChange",e.node)},ae=function(){o("nodeClick",e.node),K.value&&e.selectOnClickNode&&o("selectedChange",e.node)},E=function(g){if(e.editable&&!D.editing){D.editing=!0;var l=function s(f){var b;f.target!==g.target&&((b=f.target)===null||b===void 0?void 0:b.parentElement)!==g.target&&(D.editing=!1,document.removeEventListener("click",s))};document.removeEventListener("click",l),document.addEventListener("click",l)}};return function(){var g,l=e.node;return(0,r.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked},onClick:ae,style:e.style},[e.showLineNumber&&(0,r.createVNode)("span",{class:"vjs-node-index"},[l.id+1]),e.showSelectController&&K.value&&l.type!=="objectEnd"&&l.type!=="arrayEnd"&&(0,r.createVNode)(u,{isMultiple:i.value,checked:e.checked,onChange:$},null),(0,r.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(l.level)).map(function(s,f){return(0,r.createVNode)("div",{key:f,class:{"vjs-indent-unit":!0,"has-line":e.showLine}},null)}),e.showIcon&&(0,r.createVNode)(B,{nodeType:l.type,onClick:le},null)]),l.key&&(0,r.createVNode)("span",{class:"vjs-key"},[(g=e.renderNodeKey,g?g({node:e.node,defaultKey:O.value||""}):O.value),(0,r.createVNode)("span",{class:"vjs-colon"},[":".concat(e.showKeyValueSpace?" ":"")])]),(0,r.createVNode)("span",null,[l.type!=="content"&&l.content?(0,r.createVNode)(P,{data:l.content.toString(),onClick:ee},null):(0,r.createVNode)("span",{class:_.value,onClick:!e.editable||e.editableTrigger&&e.editableTrigger!=="click"?void 0:E,onDblclick:e.editable&&e.editableTrigger==="dblclick"?E:void 0},[e.editable&&D.editing?(0,r.createVNode)("input",{value:M.value,onChange:G,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):W()]),l.showComma&&(0,r.createVNode)("span",null,[","]),e.showLength&&e.collapsed&&(0,r.createVNode)("span",{class:"vjs-comment"},[(0,r.createTextVNode)(" // "),l.length,(0,r.createTextVNode)(" items ")])])])}}});function oe(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);n&&(d=d.filter(function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable})),o.push.apply(o,d)}return o}function k(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?oe(Object(o),!0).forEach(function(d){R(e,d,o[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):oe(Object(o)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(o,d))})}return e}var se=(0,r.defineComponent)({name:"Tree",props:k(k({},ie),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(e,n){var o=n.emit,d=n.slots,_=(0,r.ref)(),O=(0,r.computed)(function(){return y(e.data,e.rootPath)}),i=function(l){return O.value.reduce(function(s,f){var b,x=f.level>=l,N=(b=e.pathCollapsible)===null||b===void 0?void 0:b.call(e,f);return f.type!=="objectStart"&&f.type!=="arrayStart"||!x&&!N?s:k(k({},s),{},R({},f.path,1))},{})},v=(0,r.reactive)({translateY:0,visibleData:null,hiddenPaths:i(e.deep)}),K=(0,r.computed)(function(){for(var l=null,s=[],f=O.value.length,b=0;b<f;b++){var x=k(k({},O.value[b]),{},{id:b}),N=v.hiddenPaths[x.path];if(l&&l.path===x.path){var z=l.type==="objectStart",ue=k(k(k({},x),l),{},{showComma:x.showComma,content:z?"{...}":"[...]",type:z?"objectCollapsed":"arrayCollapsed"});l=null,s.push(ue)}else{if(N&&!l){l=x;continue}if(l)continue;s.push(x)}}return s}),D=(0,r.computed)(function(){var l=e.selectedValue;return l&&e.selectableType==="multiple"&&Array.isArray(l)?l:[l]}),G=(0,r.computed)(function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),M=function(){var l=K.value;if(e.virtual){var s,f=e.height/e.itemHeight,b=((s=_.value)===null||s===void 0?void 0:s.scrollTop)||0,x=Math.floor(b/e.itemHeight),N=x<0?0:x+f>l.length?l.length-f:x;N<0&&(N=0);var z=N+f;v.translateY=N*e.itemHeight,v.visibleData=l.filter(function(ue,re){return re>=N&&re<z})}else v.visibleData=l},W=function(){M()},ee=function(l){var s,f,b=l.path,x=e.selectableType;if(x==="multiple"){var N=D.value.findIndex(function(H){return H===b}),z=j(D.value);N!==-1?z.splice(N,1):z.push(b),o("update:selectedValue",z),o("selectedChange",z,j(D.value))}else if(x==="single"&&D.value[0]!==b){var ue=(s=D.value,f=1,function(H){if(Array.isArray(H))return H}(s)||function(H,ye){var te=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(te!=null){var ge,be,pe=[],me=!0,ve=!1;try{for(te=te.call(H);!(me=(ge=te.next()).done)&&(pe.push(ge.value),!ye||pe.length!==ye);me=!0);}catch(ke){ve=!0,be=ke}finally{try{me||te.return==null||te.return()}finally{if(ve)throw be}}return pe}}(s,f)||T(s,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],re=b;o("update:selectedValue",re),o("selectedChange",re,ue)}},le=function(l){o("nodeClick",l)},$=function(l,s){if(l)v.hiddenPaths=k(k({},v.hiddenPaths),{},R({},s,1));else{var f=k({},v.hiddenPaths);delete f[s],v.hiddenPaths=f}},ae=function(l,s){e.collapsedOnClickBrackets&&$(l,s),o("bracketsClick",l)},E=function(l,s){$(l,s),o("iconClick",l)},g=function(l,s){var f=A(e.data),b=e.rootPath;new Function("data","val","data".concat(s.slice(b.length),"=val"))(f,l),o("update:data",f)};return(0,r.watchEffect)(function(){G.value&&function(l){throw new Error("[VueJSONPretty] ".concat(l))}(G.value)}),(0,r.watchEffect)(function(){K.value&&M()}),(0,r.watch)(function(){return e.deep},function(l){l&&(v.hiddenPaths=i(l))}),function(){var l,s,f=(l=e.renderNodeKey)!==null&&l!==void 0?l:d.renderNodeKey,b=(s=e.renderNodeValue)!==null&&s!==void 0?s:d.renderNodeValue,x=v.visibleData&&v.visibleData.map(function(N){return(0,r.createVNode)(X,{key:N.id,node:N,collapsed:!!v.hiddenPaths[N.path],showDoubleQuotes:e.showDoubleQuotes,showLength:e.showLength,checked:D.value.includes(N.path),selectableType:e.selectableType,showLine:e.showLine,showLineNumber:e.showLineNumber,showSelectController:e.showSelectController,selectOnClickNode:e.selectOnClickNode,nodeSelectable:e.nodeSelectable,highlightSelectedNode:e.highlightSelectedNode,editable:e.editable,editableTrigger:e.editableTrigger,showIcon:e.showIcon,showKeyValueSpace:e.showKeyValueSpace,renderNodeKey:f,renderNodeValue:b,onNodeClick:le,onBracketsClick:ae,onIconClick:E,onSelectedChange:ee,onValueChange:g,style:e.itemHeight&&e.itemHeight!==20?{lineHeight:"".concat(e.itemHeight,"px")}:{}},null)});return(0,r.createVNode)("div",{ref:_,class:{"vjs-tree":!0,"is-virtual":e.virtual},onScroll:e.virtual?W:void 0,style:e.showLineNumber?k({paddingLeft:"".concat(12*Number(O.value.length.toString().length),"px")},e.style):e.style},[e.virtual?(0,r.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(e.height,"px")}},[(0,r.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(K.value.length*e.itemHeight,"px")}},[(0,r.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(v.translateY,"px)")}},[x])])]):x])}}})}(),ne}()})})(Ce);var He=Ce.exports;const Je=Pe(He);const h=Z=>(Fe("data-v-727ac95b"),Z=Z(),Ke(),Z),Re={class:"file-import-export"},qe={style:{"padding-left":"20px"}},Ge=h(()=>c("br",null,null,-1)),$e=h(()=>c("br",null,null,-1)),Qe=h(()=>c("h4",null,"模型配置:",-1)),Ye={style:{"padding-left":"20px"}},We={style:{"padding-left":"20px"}},Ze=h(()=>c("a",{style:{color:"red"},href:"https://platform.openai.com/docs/guides/text-generation/json-mode"},"JSON mode",-1)),Xe=h(()=>c("br",null,null,-1)),et=h(()=>c("br",null,null,-1)),tt=h(()=>c("h4",null,"核心配置:",-1)),nt={class:"core-configuration-form"},ot={style:{"padding-right":"20px"}},lt=h(()=>c("br",null,null,-1)),at=h(()=>c("br",null,null,-1)),rt={class:"core-configuration-form"},it={style:{"padding-right":"20px"}},st=h(()=>c("br",null,null,-1)),ut=h(()=>c("br",null,null,-1)),dt={class:"core-configuration-form"},ct={style:{"padding-right":"20px"}},pt=h(()=>c("br",null,null,-1)),mt=h(()=>c("br",null,null,-1)),ft={class:"core-configuration-form"},ht=h(()=>c("br",null,null,-1)),yt=h(()=>c("br",null,null,-1)),gt=h(()=>c("br",null,null,-1)),bt=h(()=>c("h4",null,"代理配置:",-1)),vt={style:{"padding-left":"20px"}},_t=h(()=>c("br",null,null,-1)),wt=h(()=>c("br",null,null,-1)),Vt=h(()=>c("h5",null,"多行翻译测试数据: ",-1)),Ct={class:"file-import-export"},kt={style:{"margin-top":"20px"}},xt=h(()=>c("h5",null,"单行测试数据: ",-1)),St=h(()=>c("br",null,null,-1)),Nt={key:0,style:{"margin-top":"40px"}},jt=h(()=>c("span",null,"测试结果:",-1)),Ot=h(()=>c("div",{style:{"font-size":"15px","margin-bottom":"20px"}},"多行翻译结果:",-1)),Tt=h(()=>c("div",{style:{"font-size":"15px","margin-bottom":"20px"}},"单行翻译结果:",-1)),Pt={class:"file-import-export",style:{"margin-top":"40px"}},Dt=De({__name:"index",setup(Z){const ce=_e(!1),Y=fe({}),L=fe({data:{translationDataList:[{id:0,originalText:`武器戦技を継承する
`},{id:1,originalText:`アステルが目を開けて、光になって天に昇って行く二人を見送る
`},{id:2,originalText:"performMiss"}],translationData:{id:0,originalText:"もし、今の状況が自分らしくないことの連続で、好きになれないなら、どうすれば、変えられるかを真剣に考えてみよう。そしないと問題はちっとも解決しない。"}}}),p=fe({data:{promptSingleTranslations:"",promptMultipleTranslations:"",topP:0,temperature:0,presencePenalty:0,frequencyPenalty:0,proxyUlr:"",proxyPort:0,proxyType:"",model:"",responseFormat:"",promptSingleJsonKey:"",apiHost:""}}),U=()=>{const P=Ee.service({lock:!0,text:"请耐心等待测试完成",background:"rgba(0, 0, 0, 0.7)"});Se({...L.data,...p.data}).then(u=>{u.code===0?(de("测试成功",{type:"success"}),ce.value=!0,Y.data=u.data):de(u.msg,{type:"error"}),P.close()})},ne=P=>{L.data.translationDataList=L.data.translationDataList.filter(u=>u.id!==P)},w=()=>{L.data.translationDataList.push({id:L.data.translationDataList.length,originalText:""})},T=()=>{Ne(p.data).then(P=>{P.code===0?de("修改配置成功",{type:"success"}):de(P.msg,{type:"error"}),R()})},j=()=>{Ue.get("/api/openai-properties/chat-gpt-export",{responseType:"blob"}).then(P=>{var q;let u=P.headers["content-disposition"],B="config.json";if(u){let S=(q=u.split("filename=")[1])==null?void 0:q.trim();S&&(B=S)}Ie(P.data,B)})},R=()=>{xe().then(P=>{p.data=P.data})};Le(()=>{R()});const r=_e("chagpt");return(P,u)=>{const B=V("el-button"),q=V("el-upload"),S=V("el-input"),y=V("el-form-item"),I=V("IconifyIconOffline"),A=V("el-tooltip"),F=V("el-divider"),C=V("el-option"),ie=V("el-select"),X=V("el-radio"),oe=V("el-radio-group"),k=V("el-slider"),se=V("el-form"),e=V("el-tab-pane"),n=V("el-table-column"),o=V("el-table"),d=V("el-tag"),_=V("el-card"),O=V("el-tabs");return he(),we("div",null,[t(_,null,{default:a(()=>[t(O,{modelValue:r.value,"onUpdate:modelValue":u[17]||(u[17]=i=>r.value=i)},{default:a(()=>[t(e,{label:"chagpt配置",name:"chagpt"},{default:a(()=>[t(se,{model:p.data,"label-width":"200px"},{default:a(()=>[c("div",Re,[t(B,{type:"success",onClick:T},{default:a(()=>[m("保存")]),_:1}),t(q,{class:"item",action:"/api/openai-properties/chat-gpt-import","on-success":R,"show-file-list":!1,limit:1},{trigger:a(()=>[t(B,{type:"danger"},{default:a(()=>[m("导入")]),_:1})]),_:1}),t(B,{class:"item",type:"primary",onClick:j},{default:a(()=>[m("导出")]),_:1})]),t(y,{label:"多行翻译prompt:"},{default:a(()=>[t(S,{modelValue:p.data.promptMultipleTranslations,"onUpdate:modelValue":u[0]||(u[0]=i=>p.data.promptMultipleTranslations=i),autosize:"",type:"textarea"},null,8,["modelValue"])]),_:1}),t(y,{label:"单条翻译prompt:"},{default:a(()=>[t(S,{modelValue:p.data.promptSingleTranslations,"onUpdate:modelValue":u[1]||(u[1]=i=>p.data.promptSingleTranslations=i),autosize:"",type:"textarea"},null,8,["modelValue"])]),_:1}),t(y,{label:"单条翻译JSON Key定义:"},{default:a(()=>[t(S,{modelValue:p.data.promptSingleJsonKey,"onUpdate:modelValue":u[2]||(u[2]=i=>p.data.promptSingleJsonKey=i),style:{width:"240px"}},null,8,["modelValue"]),c("div",qe,[t(A,{placement:"top"},{content:a(()=>[m(" 如果response_format配置为json_object， "),Ge,m("则需要配置为你单条翻译测试返回的JSON "),$e,m("中能获取到译文的key值，配置为空则不启用。 ")]),default:a(()=>[t(I,{icon:J(Q)},null,8,["icon"])]),_:1})])]),_:1}),t(F),Qe,t(y,{label:"openai模型配置:"},{default:a(()=>[t(ie,{modelValue:p.data.model,"onUpdate:modelValue":u[3]||(u[3]=i=>p.data.model=i),filterable:"","allow-create":"","default-first-option":"",style:{width:"240px"},placeholder:"请选择您的gpt模型(可自定义输入)"},{default:a(()=>[t(C,{label:"gpt-3.5-turbo-1106",value:"gpt-3.5-turbo-1106"}),t(C,{label:"gpt-3.5-turbo",value:"gpt-3.5-turbo"}),t(C,{label:"gpt-3.5-turbo-16k",value:"gpt-3.5-turbo-16k"}),t(C,{label:"gpt-3.5-turbo-instruct",value:"gpt-3.5-turbo-instruct"}),t(C,{label:"gpt-3.5-turbo-0613",value:"gpt-3.5-turbo-0613"}),t(C,{label:"gpt-3.5-turbo-16k-0613",value:"gpt-3.5-turbo-16k-0613"}),t(C,{label:"gpt-3.5-turbo-0301",value:"gpt-3.5-turbo-0301"}),t(C,{label:"gpt-4-0125-preview",value:"gpt-4-0125-preview"}),t(C,{label:"gpt-4-turbo-preview",value:"gpt-4-turbo-preview"}),t(C,{label:"gpt-4-1106-preview",value:"gpt-4-1106-preview"}),t(C,{label:"gpt-4-vision-preview",value:"gpt-4-vision-preview"}),t(C,{label:"gpt-4",value:"gpt-4"}),t(C,{label:"gpt-4-0613",value:"gpt-4-0613"}),t(C,{label:"gpt-4-32k",value:"gpt-4-32k"}),t(C,{label:"gpt-4-32k-0613",value:"gpt-4-32k-0613"})]),_:1},8,["modelValue"]),c("div",Ye,[t(A,{placement:"top"},{content:a(()=>[m(" 如果官网的模型更新，可以手动输入想要使用的模型。 ")]),default:a(()=>[t(I,{icon:J(Q)},null,8,["icon"])]),_:1})])]),_:1}),t(y,{label:"response_format 配置:"},{default:a(()=>[t(oe,{modelValue:p.data.responseFormat,"onUpdate:modelValue":u[4]||(u[4]=i=>p.data.responseFormat=i)},{default:a(()=>[t(X,{label:"",size:"large"},{default:a(()=>[m("无")]),_:1}),t(X,{label:"json_object",size:"large"},{default:a(()=>[m("json_object")]),_:1})]),_:1},8,["modelValue"]),c("div",We,[t(A,{placement:"top"},{content:a(()=>[m(" 如果选用的openai模型支持 "),Ze,Xe,m(" 则选用 json_object 选项，提升翻译成功率。 "),et]),default:a(()=>[t(I,{icon:J(Q)},null,8,["icon"])]),_:1})])]),_:1}),t(y,{label:"API代理地址:"},{default:a(()=>[t(S,{modelValue:p.data.apiHost,"onUpdate:modelValue":u[5]||(u[5]=i=>p.data.apiHost=i),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),t(F),tt,t(y,{label:"topP"},{default:a(()=>[c("div",nt,[t(k,{modelValue:p.data.topP,"onUpdate:modelValue":u[6]||(u[6]=i=>p.data.topP=i),"show-input":"",min:0,max:1,step:.01,class:"item"},null,8,["modelValue","step"])]),c("div",ot,[t(A,{placement:"top"},{content:a(()=>[m(" 使用温度采样的替代方法称为核心采样， "),lt,m("其中模型考虑具有top_p概率质量的令牌的结果。 "),at,m("因此，0.1 意味着只考虑包含前 10% 概率质量的代币。 ")]),default:a(()=>[t(I,{icon:J(Q)},null,8,["icon"])]),_:1})])]),_:1}),t(y,{label:"temperature"},{default:a(()=>[c("div",rt,[t(k,{modelValue:p.data.temperature,"onUpdate:modelValue":u[7]||(u[7]=i=>p.data.temperature=i),"show-input":"",min:0,max:2,step:.01,class:"item"},null,8,["modelValue","step"])]),c("div",it,[t(A,{placement:"top"},{content:a(()=>[m(" 使用什么取样温度，0到2之间。 "),st,m("较高的值(如0.8)将使输出更加随机， "),ut,m("而较低的值(如0.2)将使输出更加集中和确定。 ")]),default:a(()=>[t(I,{icon:J(Q)},null,8,["icon"])]),_:1})])]),_:1}),t(y,{label:"presencePenalty"},{default:a(()=>[c("div",dt,[t(k,{modelValue:p.data.presencePenalty,"onUpdate:modelValue":u[8]||(u[8]=i=>p.data.presencePenalty=i),"show-input":"",min:0,max:2,step:.01,class:"item"},null,8,["modelValue","step"])]),c("div",ct,[t(A,{placement:"top"},{content:a(()=>[m(" 根据新词是否出现在文本中， "),pt,m("惩罚多少。增加模型讨论新主题的可能性。 "),mt,m("0到2之间的值。 ")]),default:a(()=>[t(I,{icon:J(Q)},null,8,["icon"])]),_:1})])]),_:1}),t(y,{label:"frequencyPenalty"},{default:a(()=>[c("div",ft,[t(k,{modelValue:p.data.frequencyPenalty,"onUpdate:modelValue":u[9]||(u[9]=i=>p.data.frequencyPenalty=i),"show-input":"",min:0,max:2,step:.01,class:"item"},null,8,["modelValue","step"])]),c("div",null,[t(A,{placement:"top"},{content:a(()=>[m(" 到目前为止，根据新标记在文本中的现有频率， "),ht,m("应该惩罚多少个新标记。 "),yt,m("降低模型逐字重复同一行的可能性。 "),gt,m("0到2之间的值。 ")]),default:a(()=>[t(I,{icon:J(Q)},null,8,["icon"])]),_:1})])]),_:1}),t(F),bt,t(y,{label:"代理类型: "},{default:a(()=>[t(oe,{modelValue:p.data.proxyType,"onUpdate:modelValue":u[10]||(u[10]=i=>p.data.proxyType=i),class:"ml-4"},{default:a(()=>[t(X,{label:"SOCKS",size:"large"},{default:a(()=>[m("SOCKS")]),_:1}),t(X,{label:"HTTP",size:"large"},{default:a(()=>[m("HTTP")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(y,{label:"地址:",style:{width:"40%"}},{default:a(()=>[t(S,{modelValue:p.data.proxyUlr,"onUpdate:modelValue":u[11]||(u[11]=i=>p.data.proxyUlr=i)},null,8,["modelValue"])]),_:1}),t(y,{label:"端口:",style:{width:"30%"}},{default:a(()=>[t(S,{modelValue:p.data.proxyPort,"onUpdate:modelValue":u[12]||(u[12]=i=>p.data.proxyPort=i),type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),t(e,{label:"测试",name:"test"},{default:a(()=>[t(se,{model:p.data,"label-width":"200px"},{default:a(()=>[t(y,{label:"多行翻译prompt:"},{default:a(()=>[t(S,{modelValue:p.data.promptMultipleTranslations,"onUpdate:modelValue":u[13]||(u[13]=i=>p.data.promptMultipleTranslations=i),autosize:"",type:"textarea"},null,8,["modelValue"])]),_:1}),t(y,{label:"单条翻译prompt:"},{default:a(()=>[t(S,{modelValue:p.data.promptSingleTranslations,"onUpdate:modelValue":u[14]||(u[14]=i=>p.data.promptSingleTranslations=i),autosize:"",type:"textarea"},null,8,["modelValue"])]),_:1}),t(y,{label:"单条翻译JSON Key定义:"},{default:a(()=>[t(S,{modelValue:p.data.promptSingleJsonKey,"onUpdate:modelValue":u[15]||(u[15]=i=>p.data.promptSingleJsonKey=i),style:{width:"240px"}},null,8,["modelValue"]),c("div",vt,[t(A,{placement:"top"},{content:a(()=>[m(" 如果response_format配置为json_object， "),_t,m("则需要配置为你单条翻译测试返回的JSON "),wt,m("中能获取到译文的key值，配置为空则不启用。 ")]),default:a(()=>[t(I,{icon:J(Q)},null,8,["icon"])]),_:1})])]),_:1})]),_:1},8,["model"]),t(F),Vt,c("div",Ct,[t(B,{onClick:w,type:"primary",link:""},{default:a(()=>[m("新增翻译数据")]),_:1})]),t(o,{data:L.data.translationDataList,style:{width:"100%"}},{default:a(()=>[t(n,{prop:"id",label:"id",width:"100"}),t(n,{prop:"originalText",label:"原文"},{default:a(i=>[t(S,{autosize:{minRows:2,maxRows:4},modelValue:i.row.originalText,"onUpdate:modelValue":v=>i.row.originalText=v,type:"textarea",placeholder:"指定翻译原文"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(n,{label:"操作",width:"100"},{default:a(i=>[t(B,{type:"danger",size:"small",onClick:v=>ne(i.row.id)},{default:a(()=>[m("删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(F),c("div",kt,[xt,St,t(S,{autosize:{minRows:2,maxRows:4},modelValue:L.data.translationData.originalText,"onUpdate:modelValue":u[16]||(u[16]=i=>L.data.translationData.originalText=i),type:"textarea",placeholder:"指定翻译原文"},null,8,["modelValue"])]),t(F),ce.value?(he(),we("div",Nt,[t(_,null,{header:a(()=>[jt]),default:a(()=>[c("div",null,[Ot,t(J(Je),{data:Y.data.promptMultipleTranslationsResult},null,8,["data"]),Y.data.promptMultipleTranslationsSuccess?Ve("",!0):(he(),Be(d,{key:0,type:"danger"},{default:a(()=>[m(" 多行翻译结果不通过,结果不符合Json格式 ")]),_:1})),t(F),Tt,c("div",null,Ae(Y.data.promptSingleTranslationsResult),1)])]),_:1})])):Ve("",!0),c("div",Pt,[t(B,{type:"success",onClick:T},{default:a(()=>[m("保存配置文件")]),_:1}),t(B,{onClick:U,type:"primary"},{default:a(()=>[m("翻译测试")]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}});const Et=Me(Dt,[["__scopeId","data-v-727ac95b"]]);export{Et as default};

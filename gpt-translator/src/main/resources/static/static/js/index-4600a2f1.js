import{m as u}from"./message-ea151d7c.js";import{d as x,r as S,a as b,J,b as t,g,c as v,f as e,w as l,h as _,t as T}from"./index-f675a3d8.js";const f=x({__name:"UploadFile",props:{title:{}},setup(m){const o=m,c=S({projectName:"默认项目名称"}),n=b([]),p=J(()=>o.title==="点击上传JSON"?"/api/translation-data/upload":o.title==="点击上传Excel(zip压缩包)"?"/api/translation-data/upload-excel":"/api/translation-data/upload"),i=(a,s)=>{u(`The limit is 1, you selected ${a.length} files this time, add up to ${a.length+s.length} totally`,{type:"warning"})},r=a=>{a.code===0?u(`新增待翻译数据 :${a.data}条`,{type:"success"}):u("上传失败",{type:"error"}),n.value=[]};return(a,s)=>{const N=t("el-input"),y=t("el-text"),V=t("el-form-item"),h=t("el-form"),j=t("el-button"),w=t("el-upload"),E=t("el-card");return g(),v("div",null,[e(E,null,{default:l(()=>[e(h,{ref:"formRef",inline:!0,model:c,class:"bg-bg_color w-[99/100] pl-8 pt-4"},{default:l(()=>[e(V,{label:"项目名称：",prop:"projectName"},{default:l(()=>[e(N,{modelValue:c.projectName,"onUpdate:modelValue":s[0]||(s[0]=d=>c.projectName=d),placeholder:"输入项目名称",clearable:"",class:"!w-[200px]"},null,8,["modelValue"]),e(y,{style:{"margin-left":"20px"}},{default:l(()=>[_("(输入项目名称,便于后续管理)")]),_:1})]),_:1})]),_:1},8,["model"]),e(w,{"file-list":n.value,"onUpdate:fileList":s[1]||(s[1]=d=>n.value=d),class:"upload-demo",action:p.value,data:c,drag:"","on-success":r,limit:1,"on-exceed":i},{default:l(()=>[e(j,{type:"primary"},{default:l(()=>[_(T(o.title),1)]),_:1})]),_:1},8,["file-list","action","data"])]),_:1})])}}}),U="点击上传JSON",$="点击上传Excel(zip压缩包)",k=x({__name:"index",setup(m){const o=b("0");return(c,n)=>{const p=t("el-tab-pane"),i=t("el-tabs"),r=t("el-card");return g(),v("div",null,[e(r,null,{default:l(()=>[e(i,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=a=>o.value=a)},{default:l(()=>[e(p,{label:"JSON文件上传",name:"0"},{default:l(()=>[e(f,{title:U})]),_:1}),e(p,{label:"Excel文件上传",name:"1"},{default:l(()=>[e(f,{title:$})]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}});export{k as default};

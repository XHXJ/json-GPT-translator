import{o as K,a as U,b as j}from"./configure-6e93ce93.js";import{m as k}from"./message-7f82acf6.js";import{d as A,r as v,a as i,o as E,b as o,c as M,e as b,f as e,w as l,g as R,h,p as T,i as $,_ as q}from"./index-e13c9028.js";const F=u=>(T("data-v-4add057f"),u=u(),$(),u),G={class:"form"},H=F(()=>b("h4",{class:"table-name"},"key 管理:",-1)),J={class:"pagination"},L=A({__name:"index",setup(u){const _=v({data:[],total:0}),c=v({}),m=v({key:""}),s=i(1),d=i(10),C=i(!1),x=i(!1),z=i(!1),w=a=>{U({ids:a}).then(t=>{t.code===0&&k("删除key成功",{type:"success"}),p(s.value,d.value,c)})},S=()=>{j({key:m.key}).then(a=>{a.code===0&&k("新增key成功",{type:"success"}),p(s.value,d.value,c)})},p=(a,t,f)=>K({pageNum:a,pageSize:t,...f}).then(r=>{_.data=r.data.records,_.total=r.data.total}),P=a=>{p(s.value,a,c)},V=a=>{p(a,d.value,c)};return E(()=>{p(s.value,d.value,c)}),(a,t)=>{const f=o("el-input"),r=o("el-form-item"),y=o("el-button"),I=o("el-form"),g=o("el-table-column"),N=o("el-table"),B=o("el-pagination"),D=o("el-card");return R(),M("div",null,[b("div",G,[e(I,{ref:"formRef",inline:!0,model:m,class:"bg-bg_color w-[99/100] pl-8 pt-4"},{default:l(()=>[e(r,{label:"新增key：",prop:"projectName"},{default:l(()=>[e(f,{modelValue:m.key,"onUpdate:modelValue":t[0]||(t[0]=n=>m.key=n),placeholder:"输入新增的key",clearable:"",class:"!w-[200px]"},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(y,{type:"success",onClick:S},{default:l(()=>[h(" 新增 ")]),_:1})]),_:1})]),_:1},8,["model"])]),e(D,null,{default:l(()=>[H,e(N,{data:_.data,style:{width:"100%"}},{default:l(()=>[e(g,{prop:"id",label:"id",width:"50"}),e(g,{prop:"openaiKey",label:"key"}),e(g,{label:"操作",width:"100"},{default:l(n=>[e(y,{type:"danger",size:"small",onClick:O=>w(n.row.id)},{default:l(()=>[h("删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),b("div",J,[e(B,{"current-page":s.value,"onUpdate:currentPage":t[1]||(t[1]=n=>s.value=n),"page-size":d.value,"onUpdate:pageSize":t[2]||(t[2]=n=>d.value=n),"page-sizes":[5,10,20,50],small:C.value,disabled:z.value,background:x.value,layout:"total, sizes, prev, pager, next, jumper",total:_.total,onSizeChange:P,onCurrentChange:V},null,8,["current-page","page-size","small","disabled","background","total"])])]),_:1})])}}});const Y=q(L,[["__scopeId","data-v-4add057f"]]);export{Y as default};
